<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/owl.carousel.min.css">
    <link rel="stylesheet" href="./css/owl.theme.default.min.css">
     <link rel="stylesheet" href="./css/all.min.css">
     <link rel="stylesheet" href="./style.css">
</head>
<body>
     <header>
       
        <div class="container-fluid header-container p-0">
            <div class="row header-back">
                <div class="row col-xl-11 header-top align-items-center py-3">
                    <div class=" col-4 bar-menu justify-content-center align-items-center">
                        <i class="fa-solid fa-bars fa-xxl"></i>
                       </div>
                    <div class="col-lg-2 col-4 brand-header">
                        <img src="./images/brand-img.png" alt="">
                    </div>
                    <div class="col-lg-5 web-search">
                        <div class="search-input position-relative">
                            <input type="text" placeholder='جستجو در ماهوت...'>
                            <img src="./images/magnifi.png" alt="">
                        </div>
                    </div>
                    <div class="col-lg-5 col-4 user-basket d-flex">
                        <div class="user d-flex align-items-end">
                            <div class="d-flex user-btn">
                                <div class="user-txt ms-1">
                                    <span class="font-gray">کاربری</span>
                                    <span class="fw-bold">ورود / ثبت نام</span>
                                </div>
                                <div class="user-img">
                                    <img src="./images/user.png" alt="">
                                </div>
                            </div>
                      
                        </div>
                        <div class="basket d-flex align-items-end me-md-4 me-1 position-relative">
                            <div class="cart-header d-flex">
                                <div class="basket-txt  ms-1">
                                    <span class="font-gray">سبد خرید</span>
                                    <span class="fw-bold">خالی است</span>
                                </div>
                                <div class="basket-img">
                                    <img src="./images/basket.png" alt="">
                                    <span class="cart-num">0</span>
                                </div> 
                            </div>
                           
                        </div>
                    </div>
                </div>
            </div>
              <div class=" header-down container-fluid p-0">
                <div class="row col-xl-11">
                  <div class="navs ">
                    <div class="nav-item equip" >
                        <div class="equip-header">
                            <a href="#">
                                <span> تجهیزات پخت و پز (حرارتی)</span>
                            </a>
                        </div>
                    </div>
                    <div class="nav-item earth">
                        <div class="earth-header">
                            <a href="#">
                                <span>تجهیزات سرمایشی  </span>
                            </a>
                        </div>
                    </div>
                    <div class="nav-item air position-relative">
                        <div class="air-header">
                          <a href="#">
                            <span>تجهیزات آماده سازی غذا</span>
                           </a>
                        </div>
                   
                    </div>
                    <div class="nav-item">
                        <a href="#">
                            <span> تجهیزات نگهداری و سرو غذا </span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#">
                            <span> تجهیزات شست و شو و نظافت </span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#">
                            <span>لوازم جانبی و ایمنی</span>
                        </a>
                    </div>
                    
                 
                </div>
               
                
            </div>
        </div>
      
    </header>
    <main>
       <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active" ">
                <img src="./images/baner1.png" alt="">
            </div>
             <div class="carousel-item active" ">
                <img src="./images/baner1.png" alt="">
            </div>

          
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">قبلی</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">بعدی</span>
        </button>
    </div>
   <div class="container-fluid px-0 my-lg-5">
    <div class="title-sec text-center mb-5">
        <h3>دسته بندی های محبوب</h3>
        <p>جهت مشاهده محصولات، دسته بندی را انتخاب کنید</p>
    </div>
    <div class="row col-xl-9 gallery-img">
        <div class="col-lg-6 px-0">
            <img src="./images/galery1.png" alt="">
            <span>درب ایمنی ضد سرقت</span>
        </div>
        <div class="col-lg-6 row">
            <div class="col-6 px-2">
                <img src="./images/galery2.png" alt="">
                      <span>درب ایمنی ضد سرقت</span>
            </div>
             <div class="col-6 px-2">
                <img src="./images/galery2.png" alt="">
                 <span>درب ایمنی ضد سرقت</span>
            </div>
             <div class="col-6 px-2">
                <img src="./images/galery2.png" alt="">
                 <span>درب ایمنی ضد سرقت</span>
            </div>
             <div class="col-6 px-2">
                <img src="./images/galery2.png" alt="">
                <span>درب ایمنی ضد سرقت</span>
            </div>
        </div>
    </div>
   </div>
   <div class="container-fluid px-0 my-lg-5">
     <div class="title-sec text-center mb-5">
        <h3>دسته بندی های محبوب</h3>
        <p>جهت مشاهده محصولات، دسته بندی را انتخاب کنید</p>
    </div>
    <div class="row col-xl-9">
         <div class="owl-carousel owl-theme gallery-carousel">
        <div class="item">
            <div class="item-img my-2">
                <img src="https://example.com/door1.jpg" alt="درب اتاق TW75">
            </div>
            
            <h4>درب اتاق TW75</h4>
            <p>کد : TW75</p>
        </div>
        <div class="item">
            <div class="item-img my-2">
                <img src="https://example.com/door1.jpg" alt="درب اتاق TW75">
            </div>
            <h4>درب اتاق TW75</h4>
            <p>کد : TW75</p>
        </div>
        <div class="item">
            <div class="item-img my-2">
                <img src="https://example.com/door1.jpg" alt="درب اتاق TW75">
            </div>
            <h4>درب ضد آب TW2</h4>
            <p>کد : TW75</p>
        </div>
        <div class="item">
            <div class="item-img my-2">
                <img src="https://example.com/door1.jpg" alt="درب اتاق TW75">
            </div>
            <h4>درب حیاط یک و نیم لنگه طرح</h4>
            <p>لارسا 15116</p>
        </div>
        <div class="item">
            <div class="item-img my-2">
                <img src="https://example.com/door1.jpg" alt="درب اتاق TW75">
            </div>
            <h4>درب جدید</h4>
            <p>کد: A123</p>
        </div>
    </div>
    </div>
   </div>
   <div class="owl-carousel owl-theme baner-two">
    <div class="item">
        <img src="./images/baner1.png" alt="Image 1">
        <div class="overlay">
            <div class="text">
                <h2>چهارچوب فلزی فرانسوی</h2>
                <h1>چهارچوب فلزی فرانسوی آماده</h1>
                <button>مشاهده همه محصولات</button>
            </div>
        </div>
    </div>
    <div class="item">
        <img src="./images/baner1.png" alt="Image 2">
        <div class="overlay">
            <div class="text">
                <h2>عنوان دیگر</h2>
                <h1>عنوان بزرگتر دیگر</h1>
                <button>محصولات بیشتر</button>
            </div>
        </div>
    </div>
</div>


       
    </main>
    


     <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/owl.carousel.min.js"></script>
    <script src="./js/bootstrap.bundle.js"></script>
     <script src="./script.js"></script>

     <script>
        $(document).ready(function() {
    const headerMoving = () => {
 
      const $header = $('header');
      const $headerContainer = $('.header-container');
      const $mainHeader = $('.header-back');
      const $downHeader = $('.header-down');
      const $advertise = $('.advertise');
      const $resSearch = $('.res-search');
      
      
      const resSearchHeight = $resSearch.outerHeight() || 0;
      const downHeaderHeight = $downHeader.outerHeight() || 0;
      const mainHeaderHeight = $mainHeader.outerHeight() || 0;
      const adHeaderHeight = $advertise.outerHeight() || 0;
  
     
      let lastScrollTop = 0;
      let isHeaderVisible = true;
      
      
      $mainHeader.removeClass('lg-header-up');
      $downHeader.removeClass('header-hidden');
      $resSearch.removeClass('header-hidden');
      
      
      if (window.innerWidth > 992) {
        console.log("Desktop mode activated");
        
        const headerHeight = mainHeaderHeight + downHeaderHeight;
        const totalHeight = headerHeight + adHeaderHeight;
        
       
        $headerContainer.css('height', headerHeight);
        $('body').css('padding-top', totalHeight);
        
        // Scroll handler for desktop
        $(window).off('scroll.headerDesktop').on('scroll.headerDesktop', function() {
          const currentScroll = $(this).scrollTop();
          
       
          if (currentScroll > 50) {
           
            if (currentScroll > lastScrollTop && isHeaderVisible) {
              $mainHeader.addClass('lg-header-up');
              $downHeader.addClass('header-hidden');
              $headerContainer.css('height', mainHeaderHeight);
              isHeaderVisible = false;
              console.log("Desktop: Hiding header-down");
            } 
            
            else if (currentScroll < lastScrollTop && !isHeaderVisible) {
              $mainHeader.removeClass('lg-header-up');
              $downHeader.removeClass('header-hidden');
              $headerContainer.css('height', headerHeight);
              isHeaderVisible = true;
              console.log("Desktop: Showing header-down");
            }
          } else {
            
            $mainHeader.removeClass('lg-header-up');
            $downHeader.removeClass('header-hidden');
            $headerContainer.css('height', headerHeight);
            isHeaderVisible = true;
          }
          
          lastScrollTop = currentScroll;
        });
      } 
      
      else {
        console.log("Mobile mode activated");
        
        const headerHeight = mainHeaderHeight + resSearchHeight;
        const totalHeight = headerHeight + adHeaderHeight;
        
       
        $headerContainer.css('height', headerHeight);
        $('body').css('padding-top', totalHeight);
        
       
        $(window).off('scroll.headerMobile').on('scroll.headerMobile', function() {
          const currentScroll = $(this).scrollTop();
          
          if (currentScroll > 50) {
            
            if (currentScroll > lastScrollTop && isHeaderVisible) {
              $mainHeader.addClass('lg-header-up');
              $resSearch.addClass('header-hidden');
              $headerContainer.css('height', mainHeaderHeight);
              isHeaderVisible = false;
              console.log("Mobile: Hiding res-search");
            } 
            
            else if (currentScroll < lastScrollTop && !isHeaderVisible) {
              $mainHeader.removeClass('lg-header-up');
              $resSearch.removeClass('header-hidden');
              $headerContainer.css('height', headerHeight);
              isHeaderVisible = true;
              console.log("Mobile: Showing res-search");
            }
          } else {
            
            $mainHeader.removeClass('lg-header-up');
            $resSearch.removeClass('header-hidden');
            $headerContainer.css('height', headerHeight);
            isHeaderVisible = true;
          }
          
          lastScrollTop = currentScroll;
        });
      }
    };
  
    // Initialize on document ready
    headerMoving();
    
    // Reinitialize on window resize with debounce
    let resizeTimer;
    $(window).on('resize', function() {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(function() {
        console.log("Window resized - reinitializing header behavior");
        headerMoving();
      }, 250);
    });
  });

     </script>
</body>
</html>